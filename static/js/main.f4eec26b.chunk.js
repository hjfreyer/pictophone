(this["webpackJsonppictophone-fe"]=this["webpackJsonppictophone-fe"]||[]).push([[0],{41:function(e,t,r){e.exports=r(89)},46:function(e,t,r){},48:function(e,t,r){},89:function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i),a=r(38),p=r.n(a),s=(r(46),r(8)),o=r.n(s),d=r(11),u=r(6),c=(r(48),r(13)),l=r.n(c),y=(r(49),r(12)),m=r(7),g=r(15),f=r(39),b=new(r.n(f).a)({allErrors:!0,coerceTypes:!1,format:"fast",nullable:!0,unicode:!0,uniqueItems:!0,useDefaults:!0});b.addMetaSchema(r(87));function w(e){var t=b.getSchema("Schema#/definitions/".concat(e));return function(r){if(!t)throw new Error("No validator defined for Schema#/definitions/".concat(e));if(!t(r))throw new Error("Invalid "+e+": "+b.errorsText(t.errors.filter((function(e){return"if"!==e.keyword})),{dataVar:e}));return r}}b.addSchema({$schema:"http://json-schema.org/draft-07/schema#",definitions:{Action:{else:{else:{else:{properties:{kind:{enum:["join_game","start_game","make_move"],type:"string"}},required:["kind"]},if:{properties:{kind:{enum:["make_move"],type:"string"}},required:["kind"]},then:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["make_move"],type:"string"},playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["gameId","kind","playerId","submission"],type:"object"}},if:{properties:{kind:{enum:["start_game"],type:"string"}},required:["kind"]},then:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["start_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"}},if:{properties:{kind:{enum:["join_game"],type:"string"}},required:["kind"]},then:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["join_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"}},ActionRequest:{defaultProperties:[],properties:{action:{anyOf:[{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["join_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["start_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["make_move"],type:"string"},playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["gameId","kind","playerId","submission"],type:"object"}]},uploads:{additionalProperties:{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{paths:{items:{defaultProperties:[],properties:{points:{items:{defaultProperties:[],properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],type:"object"},type:"array"}},required:["points"],type:"object"},type:"array"}},required:["paths"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"},defaultProperties:[],type:"object"}},required:["action"],type:"object"},CompressedDrawing:{defaultProperties:[],properties:{paths:{items:{items:{type:"number"},type:"array"},type:"array"}},required:["paths"],type:"object"},Drawing:{defaultProperties:[],properties:{paths:{items:{defaultProperties:[],properties:{points:{items:{defaultProperties:[],properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],type:"object"},type:"array"}},required:["points"],type:"object"},type:"array"}},required:["paths"],type:"object"},FinishedGame:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},series:{items:{defaultProperties:[],properties:{entries:{items:{defaultProperties:[],properties:{playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["playerId","submission"],type:"object"},type:"array"}},required:["entries"],type:"object"},type:"array"},state:{enum:["GAME_OVER"],type:"string"}},required:["playerIds","series","state"],type:"object"},FirstPromptGame:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["FIRST_PROMPT"],type:"string"}},required:["playerIds","state"],type:"object"},GameLog:{defaultProperties:[],properties:{entries:{items:{defaultProperties:[],properties:{action:{anyOf:[{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["join_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["start_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["make_move"],type:"string"},playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["gameId","kind","playerId","submission"],type:"object"}]},timestamp:{}},required:["action","timestamp"],type:"object"},type:"array"},lastTimestamp:{}},required:["entries","lastTimestamp"],type:"object"},GameLogEntry:{defaultProperties:[],properties:{action:{anyOf:[{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["join_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["start_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["make_move"],type:"string"},playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["gameId","kind","playerId","submission"],type:"object"}]},timestamp:{}},required:["action","timestamp"],type:"object"},JoinGame:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["join_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},MakeMove:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["make_move"],type:"string"},playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["gameId","kind","playerId","submission"],type:"object"},Path:{defaultProperties:[],properties:{points:{items:{defaultProperties:[],properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],type:"object"},type:"array"}},required:["points"],type:"object"},PlayerGame:{else:{else:{else:{else:{else:{properties:{state:{enum:["UNSTARTED","FIRST_PROMPT","WAITING_FOR_PROMPT","RESPOND_TO_PROMPT","GAME_OVER"],type:"string"}},required:["state"]},if:{properties:{state:{enum:["GAME_OVER"],type:"string"}},required:["state"]},then:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},series:{items:{defaultProperties:[],properties:{entries:{items:{defaultProperties:[],properties:{playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["playerId","submission"],type:"object"},type:"array"}},required:["entries"],type:"object"},type:"array"},state:{enum:["GAME_OVER"],type:"string"}},required:["playerIds","series","state"],type:"object"}},if:{properties:{state:{enum:["RESPOND_TO_PROMPT"],type:"string"}},required:["state"]},then:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},prompt:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]},state:{enum:["RESPOND_TO_PROMPT"],type:"string"}},required:["playerIds","prompt","state"],type:"object"}},if:{properties:{state:{enum:["WAITING_FOR_PROMPT"],type:"string"}},required:["state"]},then:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["WAITING_FOR_PROMPT"],type:"string"}},required:["playerIds","state"],type:"object"}},if:{properties:{state:{enum:["FIRST_PROMPT"],type:"string"}},required:["state"]},then:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["FIRST_PROMPT"],type:"string"}},required:["playerIds","state"],type:"object"}},if:{properties:{state:{enum:["UNSTARTED"],type:"string"}},required:["state"]},then:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["UNSTARTED"],type:"string"}},required:["playerIds","state"],type:"object"}},Point:{defaultProperties:[],properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],type:"object"},Ref:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},RespondToPromptGame:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},prompt:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]},state:{enum:["RESPOND_TO_PROMPT"],type:"string"}},required:["playerIds","prompt","state"],type:"object"},Series:{defaultProperties:[],properties:{entries:{items:{defaultProperties:[],properties:{playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["playerId","submission"],type:"object"},type:"array"}},required:["entries"],type:"object"},SeriesEntry:{defaultProperties:[],properties:{playerId:{type:"string"},submission:{anyOf:[{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"},{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}]}},required:["playerId","submission"],type:"object"},StartGame:{defaultProperties:[],properties:{gameId:{type:"string"},kind:{enum:["start_game"],type:"string"},playerId:{type:"string"}},required:["gameId","kind","playerId"],type:"object"},Submission:{else:{else:{properties:{kind:{enum:["word","drawing"],type:"string"}},required:["kind"]},if:{properties:{kind:{enum:["drawing"],type:"string"}},required:["kind"]},then:{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{id:{type:"string"}},required:["id"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"}},if:{properties:{kind:{enum:["word"],type:"string"}},required:["kind"]},then:{defaultProperties:[],properties:{kind:{enum:["word"],type:"string"},word:{type:"string"}},required:["kind","word"],type:"object"}},UnstartedGame:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["UNSTARTED"],type:"string"}},required:["playerIds","state"],type:"object"},Upload:{defaultProperties:[],properties:{drawing:{defaultProperties:[],properties:{paths:{items:{defaultProperties:[],properties:{points:{items:{defaultProperties:[],properties:{x:{type:"number"},y:{type:"number"}},required:["x","y"],type:"object"},type:"array"}},required:["points"],type:"object"},type:"array"}},required:["paths"],type:"object"},kind:{enum:["drawing"],type:"string"}},required:["drawing","kind"],type:"object"},WaitingForPromptGame:{defaultProperties:[],properties:{playerIds:{items:{type:"string"},type:"array"},state:{enum:["WAITING_FOR_PROMPT"],type:"string"}},required:["playerIds","state"],type:"object"}}},"Schema");var h=r(22);function P(e){if(0==e.points.length)return"";if(1==e.points.length){var t=e.points[0],r=t.x,i=t.y;return"M ".concat(r," ").concat(i," L ").concat(r+1," ").concat(i)}var n="M ".concat(e.points[0].x," ").concat(e.points[0].y),a=!0,p=!1,s=void 0;try{for(var o,d=e.points.slice(1)[Symbol.iterator]();!(a=(o=d.next()).done);a=!0){var u=o.value,c=u.x,l=u.y;n+="L ".concat(c," ").concat(l)}}catch(y){p=!0,s=y}finally{try{a||null==d.return||d.return()}finally{if(p)throw s}}return n}var k=function(e){var t=e.drawing,r=e.width,a=e.height,p=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=p.current;e.style.width=r+"px",e.style.height=a+"px"}));var s={paths:t.paths.map((function(e){return{points:e.points.map((function(e){return{x:e.x*r,y:e.y*a}}))}}))};return n.a.createElement("svg",{ref:p},s.paths.map((function(e,t){return n.a.createElement("path",{key:t,d:P(e),stroke:"black",fill:"transparent"})})))},j=function(e){var t=e.draft,r=e.onChange,a=e.width,p=e.height,s=Object(i.useRef)(null);function o(e){r(Object(h.a)(t,(function(t){for(var r in e){t.inProgress[r]=t.drawing.paths.length;var i=s.current.getBoundingClientRect(),n={x:(e[r].x-i.left)/a,y:(e[r].y-i.top)/p};t.drawing.paths.push({points:[n]})}})))}function d(e){r(Object(h.a)(t,(function(t){for(var r in e){var i=s.current.getBoundingClientRect(),n={x:(e[r].x-i.left)/a,y:(e[r].y-i.top)/p};t.drawing.paths[t.inProgress[r]].points.push(n)}})))}function u(e){for(var t={},r=0;r<e.length;r++){var i=e.item(r);t[i.identifier]={x:i.clientX,y:i.clientY}}return t}function c(e){return{mouse:{x:e.clientX,y:e.clientY}}}return n.a.createElement("div",{ref:s,className:"canvas",onTouchStart:function(e){e.preventDefault(),o(u(e.changedTouches))},onTouchMove:function(e){e.preventDefault(),d(u(e.changedTouches))},onMouseDown:function(e){1===e.buttons&&o(c(e))},onMouseMove:function(e){1===e.buttons&&d(c(e))},style:{touchAction:"none"}},n.a.createElement(k,{drawing:t.drawing,width:a,height:p}))},I=function(e){var t=e.playerGame,r=e.submitWord,a=e.submitDrawing,p={drawing:{paths:[]},inProgress:{}},s=Object(i.useState)(""),o=Object(u.a)(s,2),d=o[0],c=o[1],l=Object(i.useState)(p),y=Object(u.a)(l,2),m=y[0],g=y[1],f=Object(i.useState)({width:window.innerWidth,height:window.innerHeight}),b=Object(u.a)(f,2),w=b[0],h=b[1];Object(i.useEffect)((function(){return window.addEventListener("resize",(function(){return h({width:window.innerWidth,height:window.innerHeight})}))}),[]);var P=function(e){e.preventDefault(),r(d),c("")},k=function(){a(m.drawing),g(p)},I=(n.a.createElement("div",null,"Players: ",t.playerIds.map((function(e,t){return n.a.createElement("div",{key:t},e)}))),n.a.createElement("main",{id:"game"},n.a.createElement("header",null,"Pictophone!"),n.a.createElement("div",{className:"instructions"},"Come up with a thing!"),n.a.createElement("form",{onSubmit:P},n.a.createElement("input",{value:d,onChange:function(e){return c(e.target.value)}}),n.a.createElement("button",null,"Submit")))),v=n.a.createElement("main",{id:"game"},n.a.createElement("header",null,"Pictophone!"),n.a.createElement("div",{className:"instructions"},"Chill out for a sec while everyone else finishes.")),E=3*(.7*w.height)/4,O=Math.min(E,.95*w.width),_=4*O/3;switch(t.state){case"FIRST_PROMPT":return I;case"WAITING_FOR_PROMPT":return v;case"RESPOND_TO_PROMPT":return function(e){return"word"===e.prompt.kind?n.a.createElement("main",{id:"game"},n.a.createElement("div",{className:"word-prompt"},e.prompt.word),n.a.createElement(j,{draft:m,onChange:g,width:O,height:_}),n.a.createElement("button",{onClick:k},"Submit")):n.a.createElement("main",{id:"game"},n.a.createElement(q,{drawing:e.prompt.drawing,width:O,height:_}),n.a.createElement("form",{onSubmit:P},n.a.createElement("input",{value:d,onChange:function(e){return c(e.target.value)}}),n.a.createElement("button",null,"Submit")))}(t)}},v=function(e){var t=e.series,r=e.seriesIdx;return n.a.createElement("div",null,n.a.createElement("h2",null,"Series ",r),t.entries.map((function(e,t){return n.a.createElement(E,{key:t,entry:e})})))},E=function(e){var t=e.entry;return"word"===t.submission.kind?n.a.createElement("div",null,n.a.createElement("h3",null,t.playerId," said"),n.a.createElement("div",null,t.submission.word)):n.a.createElement("div",null,n.a.createElement("h3",null,t.playerId," drew"),n.a.createElement(q,{drawing:t.submission.drawing,width:300,height:400}))};var q=function(e){var t=e.drawing,r=e.width,a=e.height,p=Object(i.useState)(null),s=Object(u.a)(p,2),c=s[0],l=s[1];return Object(i.useEffect)((function(){Object(d.a)(o.a.mark((function e(){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://storage.googleapis.com/pictophone-app-drawings/".concat(t.id),{});case 2:return r=e.sent,e.t0=w("CompressedDrawing"),e.next=6,r.json();case 6:e.t1=e.sent,i=(0,e.t0)(e.t1),l({paths:i.paths.map((function(e){for(var t={points:[]},r=0;r<e.length;r+=2)t.points.push({x:e[r],y:e[r+1]});return t}))});case 9:case"end":return e.stop()}}),e)})))()}),[t]),null===c?n.a.createElement("div",null,"Loading..."):n.a.createElement(k,{drawing:c,width:r,height:a})},O=function(e){var t=e.playerGame,r=e.startGame,i=e.submitWord,a=e.submitDrawing,p=n.a.createElement("div",null,"Players: ",t.playerIds.map((function(e,t){return n.a.createElement("div",{key:t},e)})));switch(t.state){case"UNSTARTED":return n.a.createElement("div",null,p,"Waiting to start game.",n.a.createElement("button",{onClick:r},"Start Game"));case"FIRST_PROMPT":case"WAITING_FOR_PROMPT":case"RESPOND_TO_PROMPT":return n.a.createElement(I,{playerGame:t,submitWord:i,submitDrawing:a});case"GAME_OVER":return n.a.createElement("div",null,p,t.series.map((function(e,t){return n.a.createElement(v,{key:t,series:e,seriesIdx:t})})))}},_=function(e){var t=e.join,r=Object(i.useState)(""),a=Object(u.a)(r,2),p=a[0],s=a[1];return n.a.createElement("div",null,n.a.createElement("h2",null,"Join A Game"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(p)}},n.a.createElement("input",{type:"text",value:p,onChange:function(e){return s(e.target.value)}}),n.a.createElement("button",null,"Submit")))},T=function(e){var t=e.playerId,r=e.dispatch;return n.a.createElement("div",null,n.a.createElement("h1",null,"User page for ",t),n.a.createElement(_,{join:function(e){return r({action:{kind:"join_game",playerId:t,gameId:e}})}}),n.a.createElement("h2",null,"Existing Games"),n.a.createElement(y.a,{path:"versions/0/players/".concat(t,"/games"),render:function(e){var r=e.isLoading,i=e.data;return n.a.createElement("div",null,r?n.a.createElement("span",null,"Loading..."):n.a.createElement("div",null,i.map((function(e){return n.a.createElement("div",{key:e.id},n.a.createElement(g.b,{to:"/g/".concat(e.id,"?u=").concat(t)},e.id))}))))}}))};l.a.initializeApp({projectId:"pictophone-app"}).firestore();var R=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),r=t[0],a=t[1],p=Object(m.f)();return n.a.createElement("div",null,n.a.createElement("h1",null,"Sign In"),n.a.createElement("form",{onSubmit:function(){return p.push("?u="+r)}},n.a.createElement("input",{type:"text",value:r,onChange:function(e){return a(e.target.value)}}),n.a.createElement("button",null,"Submit")))},S=function(e){var t=e.playerId,r=e.dispatch,i=Object(m.h)().gameId,a=function(){return r({action:{kind:"start_game",playerId:t,gameId:i}})},p=function(e){return r({action:{kind:"make_move",playerId:t,gameId:i,submission:{kind:"word",word:e}}})},s=function(e){return r({action:{kind:"make_move",playerId:t,gameId:i,submission:{kind:"drawing",drawing:{id:"request/0"}}},uploads:{"request/0":{kind:"drawing",drawing:e}}})};return n.a.createElement(y.b,{path:"versions/0/players/".concat(t,"/games/").concat(i),render:function(e){var t=e.isLoading,r=e.data;if(t)return n.a.createElement("span",null,"Loading...");var i=w("PlayerGame")(r);return n.a.createElement(O,{playerGame:i,startGame:a,submitWord:p,submitDrawing:s})}})};function x(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.pictophone.app/action",{method:"post",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var e=new URLSearchParams(Object(m.g)().search).get("u");if(null===e)return n.a.createElement(R,null);var t=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/",exact:!0},n.a.createElement(T,{playerId:e,dispatch:t})),n.a.createElement(m.a,{path:"/g/:gameId",exact:!0},n.a.createElement(S,{playerId:e,dispatch:t})))},A=function(){return n.a.createElement(y.c,{firebase:l.a},n.a.createElement(g.a,null,n.a.createElement(G,null)))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var r=e.installing;null!=r&&(r.onstatechange=function(){"installed"===r.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}p.a.render(n.a.createElement(A,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");N?(!function(e,t){fetch(e).then((function(r){var i=r.headers.get("content-type");404===r.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):D(t,e)}))}}()}},[[41,1,2]]]);
//# sourceMappingURL=main.f4eec26b.chunk.js.map